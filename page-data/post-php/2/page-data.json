{"componentChunkName":"component---src-templates-blog-post-js","path":"/post-php/2/","result":{"data":{"site":{"siteMetadata":{"title":"개발자 최병훈의 Blog"}},"markdownRemark":{"id":"e8e18582-ae77-557f-ae3d-702150fe7415","excerpt":"PHP의 경우 strpos함수가 문자열 포함여부를 체크하는대에 종종 사용되곤 하는데\n이는 strpos이 포함된 문자열이 시작되는 위치를 정수로 반환하는 함수라는 점과 0이외의 모든 정수값은 true로 취급하는 PHP…","html":"<p>PHP의 경우 strpos함수가 문자열 포함여부를 체크하는대에 종종 사용되곤 하는데\n이는 strpos이 포함된 문자열이 시작되는 위치를 정수로 반환하는 함수라는 점과 0이외의 모든 정수값은 true로 취급하는 PHP의 특성을 이용한 것이다.</p>\n<p>보통의 경우에는 개발자의 의도대로 동작하겠지만 만약 찾으려는 문자열이 전체문자열의 가장 앞쪽에 위치할 경우 strpos함수의 반환값은 0이 되고 PHP에서 0은 false이므로, 개발자의 의도와는 정반대의 결과가 나온다.</p>\n<p>간단한 예를 보자. 예를들어,</p>\n<h2>잘못된 예</h2>\n<deckgo-highlight-code language=\"php\"  terminal=\"carbon\" theme=\"blackboard\" >\n          <code slot=\"code\">if(strpos(&quot;ABCD&quot;,&quot;CD&quot;)){ //strpos의 return : 2\n\techo &quot;포함되어 있습니다.&quot;;\n} else {\n\techo &quot;포함되어 있지 않습니다.&quot;;\n}\n\nif(strpos(&quot;ABCD&quot;,&quot;ABC&quot;)){ //strpos의 return : 0\n\techo &quot;포함되어 있습니다.&quot;;\n} else {\n\techo &quot;포함되어 있지 않습니다.&quot;;\n}</code>\n        </deckgo-highlight-code>\n<p>위 코드에서 첫번째 IF문은 전체문자열 “ABCD”에서 부분문자열 “CD”이 시작되는 위치는 2이다.\nPHP에서 0이외의 정수값은 모두 true이므로 첫번째 IF문의 결과는 “포함되어 있습니다.” 이다.</p>\n<p>두번째 IF문은 전체문자열 “ABCD”에 부문문자열 “ABC”가 포함되어 있음에도 비교문자열의 시작위치는 0이므로\n두번째 IF문의 결과는 “포함되어 있지 않습니다.”이다.</p>\n<p>결국, strpos는 부분 문자열이 포함되어 있는 경우에도 false negative의 가능성이 있는 것이다.</p>\n<p>PHP에서 올바르게 문자열 포함여부 확인하기 위해서는 정규식을 이용하여 체크한다.</p>\n<h2>올바른 예</h2>\n<deckgo-highlight-code language=\"php\"  terminal=\"carbon\" theme=\"blackboard\" >\n          <code slot=\"code\">//PHP에서 올바른 문자열 포함여부 확인방법\nif(preg_match(&quot;/Lorem/&quot;, &quot;Lorem ipsum dolor sit amet&quot;)){\n\techo &quot;포함되어 있습니다.&quot;;\n}else{\n\techo &quot;포함되어 있지 않습니다.&quot;;\n}</code>\n        </deckgo-highlight-code>\n<p>이와같이 정규식을 이용하면 문자열 포함여부를 정확하게 판단할 수 있고, 다양한 정규식을 통해서 validation check 등에도 활용할 수 있다.</p>","frontmatter":{"title":"PHP 문자열 포함여부 확인에 strpos를 사용하면 안되는 이유","date":"March 02, 2018","description":null}}},"pageContext":{"slug":"/post-php/2/","previous":{"fields":{"slug":"/post-script/1/"},"frontmatter":{"title":"IE에서 reload함수 사용시 경고창이 뜨는 문제"}},"next":{"fields":{"slug":"/post-php/1/"},"frontmatter":{"title":"PHP 일정시간 이후 세션 만료시키기"}}}},"staticQueryHashes":["1923641857","642825376"]}